<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Team – Mendogni & Partners</title>
  <link rel="icon" type="image/svg+xml" href="images/favicon-m.svg" />
  <link rel="alternate icon" type="image/png" href="images/logo.png" />
  <link rel="apple-touch-icon" href="images/logo.png" />
  <meta name="theme-color" content="#1b8f6a" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css" />
  <style>
    /* Page canvas (screenshot-like) */
    body{background:var(--bg)}
    main{min-height:calc(100dvh - var(--anchor-offset));}
    .scene{position:relative;width:min(1400px,94%);margin:40px auto 0px;padding:70px 0;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}
    @media (max-width: 1000px){.scene{flex-direction:column;gap:28px;padding:44px 16px;margin:20px auto 0}}
    @media (max-width: 680px){.scene{padding:32px 16px;gap:24px}}
    @media (max-width: 480px){.scene{padding:24px 12px;gap:20px}}
    @media (max-width: 380px){.scene{padding:20px 8px;gap:16px}}

    /* Left columns */
    .left{display:grid;gap:56px;flex:1 1 34%;min-width:260px}
    .right{flex:1 1 34%;min-width:260px}
    @media (max-width: 1000px){.left,.right{max-width:min(760px,100%);margin:0 auto}}
    .block{max-width:520px}
    .title{margin:0 0 6px;font-weight:900;letter-spacing:.6px;color:#000}
    .text{margin:0 0 14px;line-height:1.5;color:#000}
    .pin{display:none}
    .wire{display:none}
    .socials{display:flex;gap:10px}
    .soc{display:inline-grid;place-items:center;width:34px;height:28px;border:2px solid var(--ink);border-radius:4px;color:var(--ink);text-decoration:none;font-weight:800}

    .cases h4{margin:0 0 4px;font-weight:900}
    .cases small{opacity:.9}
    /* Revamped Case Studies column */
    .left .cases{background:transparent;border:none;border-radius:0;padding:0;width:100%;max-width:100%}
    .left .cases .title{margin:0 0 30px}
    .case-pills{display:grid;grid-template-columns:1fr;gap:10px;margin-top:12px}
    .pill{display:flex;align-items:center;gap:12px;text-decoration:none;border:1px solid #e3ece7;border-radius:10px;padding:12px 44px 12px 14px;color:var(--ink);font-weight:600;background:#fff;position:relative;overflow:hidden}
    .pill::before{content:"";width:8px;height:8px;border-radius:50%;background:var(--accent);box-shadow:0 0 0 3px rgba(27,143,106,.12)}
    .pill::after{content:"›";position:absolute;right:14px;font-size:18px;color:var(--accent);transform:translateX(0);transition:transform .18s ease}
    .pill:hover{border-color:#cfe0da;background:#f6fbf9}
    .pill:hover::after{transform:translateX(4px)}

    /* Sub-banner (green + animated background) */
    .sub-hero.team-banner{position:relative;overflow:hidden;border-bottom:1px solid #d7ede6;padding:64px 0;background:
      radial-gradient(80% 80% at 20% 20%, #eaf8f3 0%, rgba(234,248,243,0) 60%),
      radial-gradient(60% 60% at 80% 10%, #d7efe7 0%, rgba(215,239,231,0) 60%),
      linear-gradient(180deg,#ecfbf6 0%,#e4f6ef 100%)}
    .sub-hero.team-banner .container{position:relative;z-index:2}
    .sub-hero.team-banner .banner-anim{position:absolute;inset:0;z-index:1;opacity:.7;background:
      repeating-linear-gradient(135deg, rgba(27,143,106,.06) 0 12px, rgba(27,143,106,0) 12px 44px);
      animation:stripeSlide 20s linear infinite}
    @keyframes stripeSlide{from{background-position:0 0}to{background-position:800px 0}}
    .sub-hero.team-banner h1{color:#124437}
    .sub-hero.team-banner p{color:#35695b}
    .sub-hero.team-banner::before,.sub-hero.team-banner::after{content:"";position:absolute;inset:auto;pointer-events:none;border-radius:999px;filter:blur(40px);opacity:.55}
    .sub-hero.team-banner::before{width:460px;height:460px;left:-120px;top:-120px;background:radial-gradient(circle at 50% 50%, rgba(27,143,106,.22) 0, rgba(27,143,106,0) 60%);animation:bannerFloat 22s ease-in-out infinite}
    .sub-hero.team-banner::after{width:520px;height:520px;right:-180px;top:-160px;background:radial-gradient(circle at 50% 50%, rgba(125,224,200,.22) 0, rgba(125,224,200,0) 60%);animation:bannerFloat2 26s ease-in-out infinite}
    @keyframes bannerFloat{0%,100%{transform:translate(0,0)}50%{transform:translate(60px,20px)}}
    @keyframes bannerFloat2{0%,100%{transform:translate(0,0)}50%{transform:translate(-40px,30px)}}
    /* single column on all breakpoints */
    .right, .left, .core {
    padding: 0 28px;
}
    /* Generic hero container */
   .hero{padding: 0;background:linear-gradient(180deg,#f3f7f5 0,#eef4f1 100%);position:relative;isolation:isolate;overflow:hidden}

    /* Core (unique animated network) */
    .core{position:relative;margin:0 auto;aspect-ratio:1/1;width:clamp(260px,32vw,480px);flex:1 1 32%;min-width:260px;border-radius:999px;
      background:
        radial-gradient(60% 60% at 75% 20%, rgba(27,143,106,.16) 0, rgba(27,143,106,0) 60%),
        radial-gradient(60% 60% at 20% 80%, rgba(27,143,106,.14) 0, rgba(27,143,106,0) 60%),
        linear-gradient(180deg,#ffffff 0%,#eef7f3 100%);
      box-shadow:0 30px 120px rgba(14,40,36,.16), inset 0 0 0 1px rgba(27,143,106,.22);overflow:hidden}
    /* Abstract animated shapes */
    .core-shapes{position:absolute;inset:0;border-radius:inherit;pointer-events:none;overflow:hidden}
    .core-shapes .blob{position:absolute;border-radius:50%;filter:blur(1px);opacity:.28;mix-blend-mode:multiply}
    .core-shapes .b1{width:140px;height:140px;left:-20px;top:16%;background:radial-gradient(circle at 30% 30%, #7de0c8 0%, rgba(125,224,200,0) 70%);animation:blobMove1 18s ease-in-out infinite}
    .core-shapes .b2{width:180px;height:180px;right:-30px;top:10%;background:radial-gradient(circle at 60% 40%, #1b8f6a 0%, rgba(27,143,106,0) 70%);animation:blobMove2 22s ease-in-out infinite}
    .core-shapes .b3{width:160px;height:160px;left:20%;bottom:-30px;background:radial-gradient(circle at 40% 60%, #9be6d3 0%, rgba(155,230,211,0) 70%);animation:blobMove3 20s ease-in-out infinite}
    @keyframes blobMove1{0%{transform:translate(0,0) scale(1)}50%{transform:translate(40px,20px) scale(1.15)}100%{transform:translate(0,0) scale(1)}}
    @keyframes blobMove2{0%{transform:translate(0,0) scale(1)}50%{transform:translate(-30px,30px) scale(1.1)}100%{transform:translate(0,0) scale(1)}}
    @keyframes blobMove3{0%{transform:translate(0,0) scale(1)}50%{transform:translate(-20px,-20px) scale(1.12)}100%{transform:translate(0,0) scale(1)}}
    /* glowing ring accents */
    .core::before{content:"";position:absolute;inset:10px;border-radius:inherit;border:1px solid rgba(27,143,106,.28);box-shadow:0 0 24px rgba(27,143,106,.22) inset}
    /* scanning light */
    .core::after{content:"";position:absolute;inset:0;border-radius:inherit;background:conic-gradient(from 0deg, rgba(255,255,255,.0), rgba(255,255,255,.6), rgba(255,255,255,.0));mix-blend-mode:soft-light;animation:spin 7s linear infinite}
    @keyframes spin{to{transform:rotate(1turn)}}
    .core-title{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-weight:900;letter-spacing:3px;font-size:clamp(22px,3.4vw,40px);color:var(--ink);text-align:center;padding:10px 14px;border-radius:999px;backdrop-filter:blur(6px)}
    canvas#core-net{position:absolute;inset:0;border-radius:inherit}
    /* Advanced infinite animation: rings + orbiting dots */
    .core-anim{position:absolute;inset:6%;border-radius:50%;pointer-events:none}
    .core-anim .ring{position:absolute;border-radius:50%;border:1px solid rgba(27,143,106,.22);inset:8%;animation:ringSpin 36s linear infinite}
    .core-anim .ring.r2{inset:16%;animation-duration:42s;animation-direction:reverse;opacity:.8}
    .core-anim .ring.r3{inset:24%;animation-duration:50s;opacity:.7}
    @keyframes ringSpin{to{transform:rotate(1turn)}}
    .core-anim .orbit{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) rotate(0);border-radius:50%;animation:orbit 12s linear infinite}
    .core-anim .orbit.o2{width:72%;height:72%;animation-duration:16s;animation-direction:reverse}
    .core-anim .orbit.o3{width:56%;height:56%;animation-duration:20s}
    .core-anim .orbit span{position:absolute;left:50%;top:0;width:8px;height:8px;background:var(--accent);border-radius:50%;transform:translate(-50%,-50%);box-shadow:0 0 0 3px rgba(27,143,106,.14)}
    .core-anim .orbit{width:86%;height:86%}
    @keyframes orbit{to{transform:translate(-50%,-50%) rotate(1turn)}}

    /* Right column */
    .teams-head{display:flex;align-items:center;gap:10px;margin-bottom:30px}
    .teams-head h3{margin:0;font-weight:900;color:var(--ink)}
    .faces{--hex:92px;--cg:14px;--rg:16px;display:flex;gap:16px;align-items:center;justify-content:flex-start;align-content:flex-start;position:relative;overflow:visible;flex-wrap:wrap}
    .face{width:calc(25% - 16px);height:auto;position:relative;cursor:pointer;transition:transform .25s ease, box-shadow .25s ease;overflow:visible;z-index:1}
    .face .hex{position:relative;width:100%;height:auto;aspect-ratio:1/1.15;clip-path:polygon(25% 6.7%,75% 6.7%,100% 50%,75% 93.3%,25% 93.3%,0 50%);overflow:hidden;background:#fff}
    .face .hex img{width:110%;height:110%;object-fit:cover;transform:translateZ(0) scale(1.02);transition:transform .35s ease}
    .face:hover{transform:translateY(-4px);z-index:10}
    .face:hover .hex img{transform:scale(1.08)}
    .face.is-active{box-shadow:none;z-index:999}
    .face.is-active .hex::after{content:"";position:absolute;inset:-6px;clip-path:polygon(25% 6.7%,75% 6.7%,100% 50%,75% 93.3%,25% 93.3%,0 50%);border:3px solid var(--accent);box-shadow:0 0 28px rgba(27,143,106,.35);pointer-events:none}
    /* default uniform tile */
    .face.lead{--hex:92px}
    /* featured roles (CEO/CTO/Manager/Lead) appear visually larger without changing footprint */
    .face.featured{--hex:92px}
    .face.featured .hex{box-shadow:0 0 0 3px var(--accent) inset, 0 0 18px rgba(27,143,106,.25)}
    .face.featured .hex img{transform:scale(1.18)}
    /* CEO hero tile wider on desktop */
    .face.hero{width:calc(40% - 16px)}
    .face.hero .hex{box-shadow:0 0 0 4px var(--accent) inset, 0 0 22px rgba(27,143,106,.28);position:relative;top:auto;bottom:auto;left:auto;right:auto}
    .face.hero .hex img{transform:scale(1.08)}
     /* large tablet */
     @media (max-width: 820px){
     
       .face.hero{--hex:88px;grid-column:auto;grid-row:auto}
       .face.hero .hex{position:relative;top:auto;bottom:auto;left:auto;right:auto}
       .right{max-width:min(620px,100%)}
     }
     /* small tablet */
     @media (max-width: 680px){
     
       .face.hero{--hex:95px;grid-column:auto;grid-row:auto}
       .face.hero .hex{position:relative;top:auto;bottom:auto;left:auto;right:auto}
       .right{max-width:min(560px,100%)}
     }
     /* mobile */
     @media (max-width: 480px){
    
      
       .face.hero{--hex:100px;grid-column:auto;grid-row:auto}
       .face.hero .hex{position:relative;top:auto;bottom:auto;left:auto;right:auto}
       .face .hex img{width:100%;height:100%;transform:scale(1.02)}
       .face:hover .hex img{transform:scale(1.05)}
       .right{max-width:min(520px,100%)}
     }
     /* very small mobile */
     @media (max-width: 380px){
      
       .face.hero{--hex:85px}
     }

    .card{position:absolute;z-index:30;width:min(250px,92vw);max-width:calc(100vw - 24px);background:#f7f7f7;border:2px solid #000;border-radius:10px;box-shadow:6px 6px 0 #000;padding:12px 12px 10px;display:grid;grid-template-columns:1fr;gap:8px;opacity:0;pointer-events:none;transition:opacity .18s ease, transform .18s ease}
    .card.is-visible{opacity:1;pointer-events:auto}
    /* default place to the right of the face */
    .face > .card{left:calc(100% + 0px);top:50%;transform:translateY(-100%)}
    .face > .card[data-pos="left"]{right:calc(100% + 12px);top:50%;transform:translateY(-100%);left:auto}
    .face > .card[data-pos="bottom"]{left:50%;right:auto;top:calc(100% + 12px);transform:translateX(-100%)}
    .card::after{content:"";position:absolute;width:12px;height:12px;background:#f7f7f7;border:2px solid #000;transform:rotate(45deg)}
    .face > .card::after{left:-8px;right:auto;top:calc(50% - 6px);border-right:none;border-top:none}
    .face > .card[data-pos="left"]::after{left:auto;right:-8px;top:calc(50% - 6px);border-left:none;border-bottom:none}
    .face > .card[data-pos="bottom"]::after{left:calc(50% - 6px);top:-8px;border-left:none;border-bottom:none}
     /* mobile: dock popover below and stretch */
     @media (max-width: 680px){
  
     }
     @media (max-width: 480px){
       
       .face > .card h4{font-size:16px}
       .face > .card small{font-size:12px}
       .face > .card p{font-size:13px;line-height:1.4}
     }
    .card h4{margin:0 0 2px;font-weight:900}
    .card small{display:block;margin:0 0 6px;font-weight:700;opacity:.8}
    .card p{margin:0}
    .card .links{display:flex;gap:6px;margin-top:8px}
    .card .links a{display:grid;place-items:center;width:24px;height:24px;border:2px solid #000;border-radius:6px;color:#000;text-decoration:none;font-weight:800}

    .core::after{content:"";position:absolute;inset:auto -20% -20% -20%;height:60%;background:radial-gradient(50% 50% at 50% 50%, rgba(27,143,106,.18) 0%, rgba(27,143,106,0) 70%);pointer-events:none;animation:glow 16s ease-in-out infinite}
    @keyframes glow{0%,100%{transform:scale(1)}50%{transform:scale(1.08)}}

    @media (max-width: 1199px){
        .left {
        width: 100%;
        flex: 100%;
        margin-bottom: 50px;
        }
        .right, .left, .core {
            padding: 0 56px;
        }

    }

    @media (max-width: 999px){
        div#core {
        display: none;
        }
    }
    @media (max-width: 767px){
        .right, .left, .core {
            padding: 020px;
        }
        .card {
        width: min(210px,92vw);
    
        }
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a href="index.html" class="brand">
        <img src="images/logo.png" alt="Mendogni & Partners Logo" class="brand-logo" onerror="this.onerror=null;this.src='images/LOGO.png'" />
      </a>
      <input type="checkbox" id="nav-toggle" class="nav-toggle" aria-label="Toggle navigation" />
      <label for="nav-toggle" class="hamburger" aria-hidden="true">
        <span></span><span></span><span></span>
      </label>
      <nav class="main-nav">
        <a href="index.html#solutions">Per i Clienti</a>
        <a href="index.html#about">Chi siamo</a>
        <a href="#" class="active">Team</a>
        <a href="index.html#contact">Contatti</a>
        <a href="index.html#consultation" class="btn btn-primary btn-small">Contattaci</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="sub-hero team-banner" data-aos="fade-up">
      <div class="banner-anim"></div>
      <div class="container">
        <h1>Team &amp; Business Cases</h1>
        <p>Conosci il nostro team e i casi di successo.</p>
      </div>
    </section>
    <div class="scene">
      <div class="left">
      

        <div class="block cases">
          <div class="pin" id="pin-cases"></div>
          <h2 class="title mb-3">CASE STUDIES</h2>

          <div class="case-pills">
            <a class="pill" href="index.html#solutions">Fatture Passive</a>
            <a class="pill" href="index.html#solutions">Allocazione Incassi</a>
            <a class="pill" href="index.html#solutions">Contabilità Generale</a>
            <a class="pill" href="index.html#odv">IA - OdV</a>
            <a class="pill" href="index.html#partners">Partner UiPath</a>
            <a class="pill" href="index.html#consultation">Prenota una consulenza</a>
            <a class="pill" href="privacy.html">Informativa sulla Privacy</a>
            <a class="pill" href="terms.html">Termini di Servizio</a>
          </div>
        </div>
        <svg class="wire" id="wire-what" viewBox="0 0 100 100" preserveAspectRatio="none"></svg>
        <svg class="wire" id="wire-cases" viewBox="0 0 100 100" preserveAspectRatio="none"></svg>
      </div>

      <div class="core" id="core">
        <div class="core-shapes"><span class="blob b1"></span><span class="blob b2"></span><span class="blob b3"></span></div>
        <div class="core-anim">
          <div class="ring r1"></div>
          <div class="ring r2"></div>
          <div class="ring r3"></div>
          <div class="orbit o1"><span></span></div>
          <div class="orbit o2"><span></span></div>
          <div class="orbit o3"><span></span></div>
        </div>
        <div class="core-title">WE MAKE IMPACT</div>
      </div>

      <div class="right">
        <div class="teams-head">
          <div class="pin" id="pin-teams"></div>
          <h2 class="title mb-3">OUR TEAMS</h2>
        </div>
        <svg class="wire" id="wire-teams" viewBox="0 0 100 100" preserveAspectRatio="none"></svg>
        <div class="faces" id="faces"></div>

        <div class="card" id="profile-card" aria-live="polite">
          <div>
            <h4 id="card-name"></h4>
            <small id="card-role"></small>
            <p id="card-bio"></p>
            <div class="links">
              <a href="#" aria-label="LinkedIn">in</a>
              <a href="#" aria-label="X">x</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <svg class="wire" id="hiddenSizer" viewBox="0 0 100 100" preserveAspectRatio="none" style="position:absolute;inset:0;opacity:0;pointer-events:none"></svg>
  </main>

  <footer class="site-footer">
    <div class="container footer-grid">
      <div class="footer-brand">
        <div class="footer-logo">
          <a href="index.html#top"><img src="images/logo.png" alt="Mendogni & Partners" onerror="this.onerror=null;this.src='images/LOGO.png'" /></a>
        </div>
        <p>Soluzioni di automazione finanziaria basate sulla tecnologia UiPath.<br/>Aiutiamo l'ufficio CFO a semplificare i processi con IA e robotica.</p>
      </div>
      <div class="footer-col">
        <h5>Azienda</h5>
        <ul>
          <li><a href="index.html#about">Chi siamo</a></li>
          <li><a href="#">Team</a></li>
          <li><a href="index.html#contact">Carriere</a></li>
          <li><a href="index.html#partners">Partner</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h5>Legale</h5>
        <ul>
          <li><a href="privacy.html">Informativa sulla Privacy</a></li>
          <li><a href="terms.html">Termini di Servizio</a></li>
          <li><a href="cookies.html">Cookie Policy</a></li>
        </ul>
      </div>
      <div class="footer-col footer-contact">
        <h5>Contatti</h5>
        <ul>
          <li>Via Milano 123, 20100 Milano, Italia</li>
          <li><a href="mailto:info@mendognipartners.com">info@mendognipartners.com</a></li>
          <li><a href="tel:+390212345678">+39 02 1234 5678</a></li>
        </ul>
      </div>
    </div>
    <div class="container footer-bottom">
      <div>© 2025 Mendogni &amp; Partners S.r.l. Tutti i diritti riservati.</div>
    </div>
  </footer>

  <script>
    (function(){
      var TEAM=[
        {img:'https://i.pravatar.cc/600?img=12',name:'Ilaria M.',role:'CEO',bio:'Visione, partnership e crescita.'},
        {img:'https://i.pravatar.cc/600?img=32',name:'Davide P.',role:'CTO',bio:'UiPath, AI e architetture scalabili.'},
        {img:'https://i.pravatar.cc/600?img=47',name:'Sara L.',role:'Lead Consultant',bio:'Processi AFC e compliance.'},
        {img:'https://i.pravatar.cc/600?img=15',name:'Mattia R.',role:'Automation Manager',bio:'Discovery, design e change.'},
        {img:'https://i.pravatar.cc/600?img=21',name:'Noemi C.',role:'RPA Engineer',bio:'Sviluppo robot e orchestrazione.'},
        {img:'https://i.pravatar.cc/600?img=7',name:'Giorgio K.',role:'Business Analyst',bio:'Analisi requisiti e KPI.'},
        {img:'https://i.pravatar.cc/600?img=49',name:'Elena D.',role:'Data Specialist',bio:'Integrazioni, dati e insight.'},
        {img:'https://i.pravatar.cc/600?img=28',name:'Tommaso V.',role:'QA Lead',bio:'Qualità, test e release.'},
        {img:'https://i.pravatar.cc/600?img=31',name:'Chiara B.',role:'Support',bio:'Run, monitoraggio e miglioramento.'},
        {img:'https://i.pravatar.cc/600?img=55',name:'Alberto S.',role:'Solution Architect',bio:'Blueprint, integrazioni e scalabilità.'},
        {img:'https://i.pravatar.cc/600?img=56',name:'Marta T.',role:'Project Manager',bio:'Pianificazione, stakeholder e delivery.'},
        {img:'https://i.pravatar.cc/600?img=58',name:'Luca P.',role:'Product Manager',bio:'Roadmap, valore e priorità.'},
        {img:'https://i.pravatar.cc/600?img=60',name:'Giulia F.',role:'UX Designer',bio:'Esperienze semplici e accessibili.'}
      ];

      var facesEl=document.getElementById('faces');
      var card=document.getElementById('profile-card');
      var cardName=document.getElementById('card-name');
      var cardRole=document.getElementById('card-role');
      var cardBio=document.getElementById('card-bio');
      var right=document.querySelector('.right');

      var heroAssigned=false;
      TEAM.forEach(function(p,i){
        var d=document.createElement('div');
        var isFeatured = /(CTO|Manager|Lead)/i.test(p.role);
        var isCEO = /\bCEO\b/i.test(p.role) && !heroAssigned;
        if(isCEO){ heroAssigned=true; }
        d.className='face'+(isFeatured?' featured':'')+(isCEO?' hero':'');
        d.innerHTML='<div class="hex"><img src="'+p.img+'" alt="'+p.name+'" /></div>';
        d.addEventListener('mouseenter',function(){show(p,d)});
        d.addEventListener('focus',function(){show(p,d)});
        d.addEventListener('mouseleave', function(){ card.classList.remove('is-visible'); d.classList.remove('is-active'); });
        facesEl.appendChild(d);
      });

      function show(p,el){
        Array.prototype.forEach.call(document.querySelectorAll('.face'),function(n){n.classList.remove('is-active')});
        if(el) el.classList.add('is-active');
        cardName.textContent=p.name;
        cardRole.textContent=p.role;
        cardBio.textContent=p.bio;

        // move the popover inside the hovered face so it is always near its parent
        if(card.parentElement !== el){ el.appendChild(card); }

        // measure and decide best side
        var rRect = right.getBoundingClientRect();
        var eRect = el.getBoundingClientRect();
        card.style.visibility = 'hidden';
        card.classList.add('is-visible');
        var cWidth = card.offsetWidth || 320;
        card.style.visibility = '';

        var spaceRight = rRect.right - eRect.right;
        var spaceLeft = eRect.left - rRect.left;
        var viewportRight = (window.innerWidth || document.documentElement.clientWidth);
        var overflowRight = (eRect.right + 12 + cWidth) - viewportRight; // >0 means it would go off-screen
        var pos = 'right';
        // if right side is too narrow or would overflow viewport, try left
        if(spaceRight <= cWidth + 16 || overflowRight > 0){
          if(spaceLeft > cWidth + 16){
            pos = 'left';
          } else {
            pos = 'bottom'; // neither side fits → dock below
          }
        }
        // if column itself is narrower than the card, also dock below
        if(rRect.width < cWidth + 24){ pos = 'bottom'; }
        // On small screens or when docking below, clamp horizontally to viewport to prevent cutoff
        var isSmall = (window.innerWidth || document.documentElement.clientWidth) <= 680;
        if(pos === 'bottom' || isSmall){
          pos = 'bottom';
          var vpW = (window.innerWidth || document.documentElement.clientWidth);
          var baseLeft = (eRect.width / 2) - (cWidth / 2); // centered relative to face
          var minLeft = 12 - eRect.left;                   // keep 12px from viewport left
          var maxLeft = vpW - cWidth - 12 - eRect.left;    // keep 12px from viewport right
          var clampedLeft = Math.max(minLeft, Math.min(maxLeft, baseLeft));
          card.style.left = clampedLeft + 'px';
          card.style.right = 'auto';
          card.style.top = (eRect.height + 10) + 'px';
          card.style.transform = 'none';
        } else {
          // clear overrides for side positions
          card.style.left = '';
          card.style.right = '';
          card.style.top = '';
          card.style.transform = '';
        }
        card.setAttribute('data-pos', pos);
      }

      // hide card when leaving the team area
      right.addEventListener('mouseleave', function(){
        card.classList.remove('is-visible');
        Array.prototype.forEach.call(document.querySelectorAll('.face'),function(n){n.classList.remove('is-active')});
      });
      window.addEventListener('scroll', function(){ card.classList.remove('is-visible'); });
      window.addEventListener('resize', function(){ card.classList.remove('is-visible'); });

      // (center canvas animation removed as requested)
    })();
  </script>
</body>
</html>
